ScreenManager:
    LoginScreen:
    RegisterScreen:

<LoginScreen>:
    name: "login"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)

        MDLabel:
            text: "Grab Piyu-d Login"
            halign: "center"
            font_style: "H5"
            theme_text_color: "Custom"
            text_color: 0, 0.6, 0.4, 1

        MDTextField:
            id: email
            hint_text: "Email"
            mode: "rectangle"

        MDTextField:
            id: password
            hint_text: "Password"
            password: True
            mode: "rectangle"

        MDRaisedButton:
            text: "Login"
            md_bg_color: 0, 0.5, 0.2, 1
            on_release: root.login(email.text, password.text)

        MDTextButton:
            text: "Register"
            on_release: app.root.current = "register"

<RegisterScreen>:
    name: "register"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)

        MDLabel:
            text: "Register to Grab Piyu-d"
            halign: "center"
            font_style: "H5"
            theme_text_color: "Custom"
            text_color: 0.2, 0.6, 0.2, 1

        MDTextField:
            id: email
            hint_text: "Email"
            mode: "rectangle"

        MDTextField:
            id: password
            hint_text: "Password"
            mode: "rectangle"
            password: True

        MDLabel:
            text: "Select Role:"
            halign: "center"

        MDDropDownItem:
            id: role_dropdown
            text: "user"
            on_release: root.ids.role_menu.open()

        MDMenu:
            id: role_menu

        MDRaisedButton:
            text: "Register"
            md_bg_color: 0, 0.5, 0.2, 1
            on_release: root.register(email.text, password.text, role_dropdown.text)

        MDTextButton:
            text: "Back to Login"
            on_release: app.root.current = "login"
